server:
  port: 63040
  servlet:
    context-path: /content

spring:
  application:
    name: content-api

  cloud:
    nacos:
      server-addr: 192.168.101.1:8848
      discovery:
        namespace: dev
        # 必须要在同一个group的服务，才可以互相调用
        # group的名字随便取，但是必须都叫同一个名，不然调用不了
        group: xuecheng-plus-project

  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://192.168.101.65:3306/xcplus_content?serverTimezone=UTC&useUnicode=true&useSSL=false
    username: root
    password: mysql

  freemarker:
    enabled: true
    cache: false #关闭模板缓存，方便测试
    settings:
      template_update_delay: 0
    suffix: .html   #页面模板后缀名
    charset: UTF-8
    template-loader-path: classpath:/templates/ #页面模板位置(默认为 classpath:/templates/)
    resources:
      add-mappings: false #关闭项目中的静态资源映射(static、resources文件夹下的资源)

logging:
  config: classpath:log4j2-dev.xml

swagger:
title: "学成在线内容管理系统"
description: "内容系统管理系统对课程相关信息进行管理"
base-package: com.xuecheng.content
enabled: true
version: 1.0.0

xxl:
  job:
    admin:
      addresses: http://192.168.101.65:8088/xxl-job-admin
    executor:
      appname: coursepublish-job
      address:
      ip:
      port: 8999
      logpath: /data/applogs/xxl-job/jobhandler
      logretentiondays: 30
    accessToken: default_token

# feign的配置
feign:
  hystrix:
    enabled: true
  circuitbreaker:
    enabled: true
hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            # 熔断超时时间
            timeoutInMilliseconds: 1800000
ribbon:
  # 连接超时时间
  ConnectTimeout: 1800000
  # 读超时时间
  ReadTimeout: 1800000
  # 重试次数
  MaxAutoRetries: 0
  # 切换实例的重试次数
  MaxAutoRetriesNextServer: 1

# elasticsearch地址
elasticsearch:
  hostlist: 192.168.101.65:9200 #多个节点中间用逗号分隔
  course:
    index: course-publish
    source_fields: id,name,grade,mt,st,charge,pic,price,originalPrice,teachmode,validDays,createDate
